{% extends 'layout.html' %} {% block content %}

<div class="row justify-content-center card-deck">
    <div class="col-sm-6 card card-body">
        <!--ref: https://bootstrapious.com/p/bootstrap-vertical-navbar-->
        <!-- Vertical navbar -->
        {% if session['email'] != None %}
        <div class="vertical-nav bg-white" id="sidebar">
            <div class=" bg-light">
                <div class="media d-flex align-items-center"><img src="{{ url_for('static', filename='avatar.jpg') }}" alt="..." width="65" class="mr-3 rounded-circle img-thumbnail shadow-sm">
                    <div class="media-body">
                        <h4 class="m-0">{{ session['name'] }}</h4>
                        <p class="font-weight-light text-muted mb-0">Seller</p>
                    </div>
                </div>
            </div>
            <p class="text-gray font-weight-bold text-uppercase px-3 small pb-4 mb-0">Main</p>
            <ul class="nav flex-column bg-white mb-0 scroll">
                <li class="nav-item">
                    <a href="#" class="nav-link text-dark font-italic bg-light">
                <i class="fa fa-envelope  mr-3 text-dark fa-fw"></i>
                {{session['email']}}
            </a>
                </li>
                </ul>
                {% endif %}
               <div style="overflow-x:auto;">
                <table class="table table-sm table-striped" >
                    
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Category</th>
                            <th scope="col">Name</th>
                            <th scope="col">Price</th>
                            <th scope="col">See</th>
                            <th scope="col">Edit</th>
                            <th scope="col">Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in items %}
                        <tr>
                            <th scope="row">{{ loop.index }}</th>
                            <td>{{item.category_name}}</td>
                            <td>{{item.product_name}}</td>
                            <td>${{item.price}}</td>
                            <td><a href="{{ url_for('review', id=item._id) }}"><button type="button" class="btn btn-primary" ><i class="fas fa-eye"></i></button</a></td>
                            <td><a href="{{  url_for('edit_product', product_id=item._id) }}"><button type="button" class="btn btn-success" ><i class="fas fa-edit"></i></button></a></td>
                            <td><a href="{{  url_for('delete_product', product_id=item._id) }}"><button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button></a></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
            <!--<ul class="nav flex-column bg-white mb-0">
                <li class="nav-item">
                    <a href="#" class="nav-link text-dark font-italic">
                <i class="fa fa-area-chart mr-3 text-primary fa-fw"></i>
                Area charts
            </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link text-dark font-italic">
                <i class="fa fa-bar-chart mr-3 text-primary fa-fw"></i>
                Bar charts
            </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link text-dark font-italic">
                <i class="fa fa-pie-chart mr-3 text-primary fa-fw"></i>
                Pie charts
            </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link text-dark font-italic">
                <i class="fa fa-line-chart mr-3 text-primary fa-fw"></i>
                Line charts
            </a>
                </li>
            </ul>-->
        </div>
    </div>

    <!--2nd card for -->
    <div class="col-sm-6 card">

        <form class="text-center border border-light p-5" action="{{url_for('insert_product')}}" method='POST'>

            <p class="h4 mb-4">Add a new product</p>

            <div class="form-row mb-4">
                <!-- Category -->
                <select class="form-control " name="category_name">
                    <option disabled selected>Select Category</option>
                 {%  for cat in category %}
                 <option  value='{{cat.category_name}}'>{{cat.category_name}}</option>
                 {% endfor %}
                </select>
            </div>
            <!-- Product Name -->
            <input type="text" id="product_name" name="product_name" class="form-control mb-4" placeholder="Product Name" required>
            <!-- Price -->
            <input type="number" min="1" step="any" id="#" name="price" class="form-control mb-4" placeholder="Price" required>
            <!--image url-->
            <input type="text" id="url" name="url" class="form-control mb-4" placeholder="Add Image URL"> 
            
            {% if session['email'] != None %}
            <!--seller name-->
            <input type="text" id="seller" name="seller" class="form-control mb-4" placeholder="Seller Name" value="{{session['name']}}"> 
            {% endif %}
            
            <div class="form-group green-border-focus label">
                <textarea class="form-control" id="product_description" name='product_description' placeholder="Add product description" rows="3" required></textarea>
            </div>
            <!-- Sign up button -->
            <button class="btn btn-info my-4 btn-block" type="submit">Submit</button>
            <hr>
            <!-- Terms of service -->
            <p>By clicking
                <em>Sign up</em> you agree to our
                <a href="" target="_blank">terms of service</a>
        </form>
    </div>
</div>

<!-- Default form register -->

{% endblock %}
